<!-- 
  åœ¨è¿™ä¸ªæŒ‘æˆ˜ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•å®ç°ä¸€ä¸ªç®€å•çš„v-modelæŒ‡ä»¤ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ ğŸ‘‡:
 -->
<script setup lang='ts'>

import { Directive, ref } from "vue"

/**
 * å®ç°ä»¥ä¸‹è‡ªå®šä¹‰æŒ‡ä»¤
 * åœ¨è¡¨å•è¾“å…¥å…ƒç´ å’Œæ•°æ®é—´åˆ›å»ºåŒå‘ç»‘å®š
 *
*/
const VOhModel: Directive<HTMLInputElement, string> = {
  mounted(el, binding) {
    el.value = binding.value
    el.$onInput = (evt: Event) => {value.value = evt.target.value}
    el.addEventListener('input', el.$onInput)
  },

  unmounted(el) {
    el.removeEventListener('input', el.$onInput)
  }
}

const value = ref("Hello Vue.js")

</script>

<template>
  <input v-oh-model="value" type="text" />
  <p>{{ value }}</p>
</template>